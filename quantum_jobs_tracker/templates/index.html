<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Jobs Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="quantum-container">
        <header class="enhanced-header">
            <div class="header-left">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-atom"></i>
                    </div>
                    <div class="logo-text">
                        <h1>Quantum Spark</h1>
                        <div class="subtitle">Amaravathi Quantum Hackathon</div>
                    </div>
                </div>
            </div>
            
            <div class="header-center">
                <div class="hackathon-badge">
                    <i class="fas fa-trophy"></i>
                    Amaravathi Quantum Hackathon 2025
                </div>
                <div class="connection-status" id="connection-status">
                    <i class="fas fa-circle"></i>
                    <span>Connected to IBM Quantum</span>
                </div>
            </div>
            
            <div class="header-right">
                <button class="btn btn-secondary" id="tutorial-btn">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Tutorial</span>
                </button>
                <div class="timer-display" id="timer-display">
                    <i class="fas fa-clock"></i>
                    <span id="countdown-timer">00:00</span>
                </div>
                <button class="btn btn-secondary" id="theme-switcher-btn">
                    <i class="fas fa-palette"></i>
                    <span>Theme</span>
                </button>
                <button class="btn btn-primary" id="refresh-all-btn">
                    <i class="fas fa-sync-alt"></i>
                    <span>Refresh</span>
                </button>
            </div>
        </header>

        <!-- Theme Selection -->
        <div class="theme-selection">
            <h2>üé® Choose Your Dashboard Theme</h2>
            <div class="theme-grid">
                <a href="/hackathon" class="theme-card hackathon-theme">
                    <div class="theme-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>Hackathon Dashboard</h3>
                    <p>Award-winning dashboard with 3D visualizations and AI integration</p>
                    <div class="theme-badge">üèÜ Featured</div>
                </a>
                
                <a href="/advanced" class="theme-card advanced-theme">
                    <div class="theme-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3>Advanced Dashboard</h3>
                    <p>Advanced dashboard with glossy finish and 3D quantum circuits</p>
                    <div class="theme-badge">‚ö° Advanced</div>
                </a>
                
                <a href="/modern" class="theme-card modern-theme">
                    <div class="theme-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h3>Modern Dashboard</h3>
                    <p>Modern gradient-based dashboard with smooth animations</p>
                    <div class="theme-badge">üöÄ Modern</div>
                </a>
                
                <a href="/professional" class="theme-card professional-theme">
                    <div class="theme-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <h3>Professional Dashboard</h3>
                    <p>Clean professional dashboard for business presentations</p>
                    <div class="theme-badge">üíº Professional</div>
                </a>
            </div>
        </div>

        <div class="dashboard">
            <div class="section backends">
                <h2>Quantum Backends</h2>
                <div class="quantum-grid" id="backends-container">
                    <div class="loading">Loading quantum backend data...</div>
                </div>
            </div>

            <div class="section jobs">
                <h2>Active Quantum Jobs</h2>
                <div class="quantum-table-container">
                    <table class="quantum-table" id="jobs-table">
                        <thead>
                            <tr>
                                <th>Job ID</th>
                                <th>Backend</th>
                                <th>Status</th>
                                <th>Qubits</th>
                                <th>Start Time</th>
                                <th>Est. Completion</th>
                            </tr>
                        </thead>
                        <tbody id="jobs-body">
                            <tr>
                                <td colspan="6" class="loading">Loading quantum jobs data...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section qubit-state">
                <h2>Quantum System State</h2>
                <div class="quantum-visualization">
                    <div class="visualization-container">
                        <div class="visualization-panel">
                            <h3>State Histogram</h3>
                            <div id="histogram-visualization">
                                <div class="loading">Loading quantum state...</div>
                            </div>
                        </div>
                        <div class="visualization-panel">
                            <h3>Bloch Sphere</h3>
                            <div id="bloch-visualization">
                                <div class="loading">Loading quantum state...</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="quantum-stats">
                        <div id="qubit-stats">
                            <div class="stat">
                                <span class="label">Total Backends:</span>
                                <span class="value" id="total-backends">0</span>
                            </div>
                            <div class="stat">
                                <span class="label">Active Backends:</span>
                                <span class="value" id="active-backends">0</span>
                            </div>
                            <div class="stat">
                                <span class="label">Running Jobs:</span>
                                <span class="value" id="running-jobs">0</span>
                            </div>
                            <div class="stat">
                                <span class="label">Queued Jobs:</span>
                                <span class="value" id="queued-jobs">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section quantum-circuit">
                <h2>Quantum Circuit Representation</h2>
                <div id="quantum-circuit-visualization">
                    <canvas id="superposition-canvas"></canvas>
                </div>
                <p class="circuit-explanation">
                    This quantum circuit represents the current state of the quantum computing system.
                    Each qubit encodes information about backend availability and job status.
                </p>
            </div>
        </div>
        
        <footer>
            <p>Quantum Jobs Tracker - Powered by Qiskit</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="{{ url_for('static', filename='hackathon_dashboard.js') }}"></script>
    
    <script>
        // Theme Switcher Functionality
        document.addEventListener('DOMContentLoaded', function() {
            const themeSwitcherBtn = document.getElementById('theme-switcher-btn');
            
            if (themeSwitcherBtn) {
                themeSwitcherBtn.addEventListener('click', function() {
                    showThemeModal();
                });
            }
        });
        
        function showThemeModal() {
            // Create theme modal
            const modal = document.createElement('div');
            modal.className = 'theme-modal';
            modal.innerHTML = `
                <div class="theme-modal-content">
                    <div class="theme-modal-header">
                        <h3>Choose Dashboard Theme</h3>
                        <span class="close-theme-modal">&times;</span>
                    </div>
                    <div class="theme-options">
                        <div class="theme-option" onclick="switchTheme('hackathon')">
                            <div class="theme-preview hackathon-preview"></div>
                            <h4>Hackathon Dashboard</h4>
                            <p>Main quantum jobs tracking dashboard</p>
                        </div>
                        <div class="theme-option" onclick="switchTheme('advanced')">
                            <div class="theme-preview advanced-preview"></div>
                            <h4>Advanced Dashboard</h4>
                            <p>Advanced analytics and monitoring</p>
                        </div>
                        <div class="theme-option" onclick="switchTheme('modern')">
                            <div class="theme-preview modern-preview"></div>
                            <h4>Modern Dashboard</h4>
                            <p>Clean, modern interface</p>
                        </div>
                        <div class="theme-option" onclick="switchTheme('professional')">
                            <div class="theme-preview professional-preview"></div>
                            <h4>Professional Dashboard</h4>
                            <p>Enterprise-grade interface</p>
                        </div>
                    </div>
                </div>
            `;
            
            // Add modal styles
            const style = document.createElement('style');
            style.textContent = `
                .theme-modal {
                    display: flex;
                    position: fixed;
                    z-index: 1000;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0,0,0,0.5);
                    justify-content: center;
                    align-items: center;
                }
                .theme-modal-content {
                    background: white;
                    border-radius: 12px;
                    padding: 20px;
                    max-width: 600px;
                    width: 90%;
                    max-height: 80vh;
                    overflow-y: auto;
                }
                .theme-modal-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 20px;
                }
                .close-theme-modal {
                    font-size: 28px;
                    font-weight: bold;
                    cursor: pointer;
                    color: #aaa;
                }
                .close-theme-modal:hover {
                    color: #000;
                }
                .theme-options {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 15px;
                }
                .theme-option {
                    border: 2px solid #ddd;
                    border-radius: 8px;
                    padding: 15px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                }
                .theme-option:hover {
                    border-color: #007bff;
                    transform: translateY(-2px);
                    box-shadow: 0 4px 12px rgba(0,123,255,0.2);
                }
                .theme-preview {
                    height: 80px;
                    border-radius: 4px;
                    margin-bottom: 10px;
                    background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
                }
                .hackathon-preview { background: linear-gradient(45deg, #ff6b6b 0%, #ee5a24 100%); }
                .advanced-preview { background: linear-gradient(45deg, #2c3e50 0%, #34495e 100%); }
                .modern-preview { background: linear-gradient(45deg, #667eea 0%, #764ba2 100%); }
                .professional-preview { background: linear-gradient(45deg, #2c3e50 0%, #95a5a6 100%); }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(modal);
            
            // Close modal functionality
            modal.querySelector('.close-theme-modal').onclick = function() {
                document.body.removeChild(modal);
                document.head.removeChild(style);
            };
            
            modal.onclick = function(event) {
                if (event.target === modal) {
                    document.body.removeChild(modal);
                    document.head.removeChild(style);
                }
            };
        }
        
        function switchTheme(theme) {
            console.log(`Switching to ${theme} theme`);
            
            // Close modal
            const modal = document.querySelector('.theme-modal');
            if (modal) {
                document.body.removeChild(modal);
            }
            const style = document.querySelector('style');
            if (style && style.textContent.includes('theme-modal')) {
                document.head.removeChild(style);
            }
            
            // Redirect to appropriate dashboard
            switch(theme) {
                case 'hackathon':
                    window.location.href = '/hackathon';
                    break;
                case 'advanced':
                    window.location.href = '/advanced';
                    break;
                case 'modern':
                    window.location.href = '/modern';
                    break;
                case 'professional':
                    window.location.href = '/professional';
                    break;
                default:
                    window.location.href = '/';
            }
        }
    </script>
</body>
</html>
